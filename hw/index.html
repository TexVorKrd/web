<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/style.css">
    <script src="scripts/scripts.js" defer></script>
    <title>Выбор web сервера для Ubuntu</title>
</head>

<body>
    <h2>Выбор web сервера для Ubuntu</h1>
    <hr>


    <table class="centre">
        <tr>
            <td width ="200">
                <a href="https://www.nginx.com/"><img 
                src="https://www.nginx.com/wp-content/uploads/2021/08/NGINX-Part-of-F5-horiz-black-type-1.svg" width="155" height="61.35">
                </a>
            </td>
            <td id="ngnx">NGINX — это легковесный и мощный web-сервер, который способен держать до 10 тысяч одновременных соединений,
                расходуя при этом минимальное количество ресурсов. Чаще всего его используют в качестве прокси-сервера и 
                обратного прокси-сервера. NGINX обладает модульной архитектурой. Модули настраиваются через конфигурационные файлы, 
                которые имеют древовидную структуру и собираются в единое целое при их чтении.
            </td>
        </tr>
        <tr>
            <td id ="apache"><a href="https://httpd.apache.org/"><img src="https://www.returngis.net/wp-content/uploads/2021/06/Apache-HTTP-Server.png" sizes="150" width="150" height="100"></a>
            </td>
            <td>Apache HTTP-сервер (является искажённым сокращением от англ. a patchy server; среди русских пользователей 
                общепринято переводное апа́ч) — свободный веб-сервер. Apache является кроссплатформенным ПО, поддерживает 
                операционные системы Linux, BSD, macOS, Microsoft Windows, Novell NetWare, BeOS. Основными достоинствами 
                Apache считаются надёжность и гибкость конфигурации. Он позволяет подключать внешние модули для предоставления 
                данных, использовать СУБД для аутентификации пользователей, модифицировать сообщения об ошибках и т. д.
        </tr>
    </table>
    <hr>
    <br>
    <table class="dif" border="1">
        <tr>
            <th>
                Отличия
            </th>
            <th>
                Описание
            </th>
        </tr>
        <tr  class="difs">
            <td class="name">1. Метод обработки соединений с клиентами</td>
            <td class ="description">Издавна, Apache на каждый запрос от клиента создает отдельный процесс (или поток, зависит от выбранного mpm модуля). Выглядит это следующим образом - клиент отправляет запрос, веб-сервер создает отдельный процесс на этот запрос, отвечает клиенту и блокирует процесс до тех пор, пока клиент не закроет соединение. Это легко и просто в реализации, дебаге и мониторниге, но … Как вы могли бы догадаться, если у вас highload проект, то.. дела плохи. Процесс в любой ОС требует памяти и ресурсов, а когда процессов становиться неприлично много, обработка соединений неприлично замедляется, память кончается, CPU растет. Для мелких проектов такая реализация архитектуры обработки соединений не добавит головной боли, но для высоконагруженных проектов придется ставить очень мощное железо или искать альтернативные варианты.

                <br><br> Nginx состоит из master-процесса и нескольких дочерних процессов. Мастер процесс обычно один — он создает дочерние процессы (воркеры, загрузчик кеша и кеш менеджер), считывает конфигурацию и открывает порты. Воркеров обычно несколько, разработчики nginx советуют количество воркеров определять равным числу ядер машины. Эти дочерние процессы буду обслуживать все соединения с клиентами в неблокирующей манере. В nginx используется бесконечный цикл, который бежит по всем соединениями и отвечает на запросы клиентов. Когда соединение закрывается, оно удаляется из event loop. Это решение идеально подходит для проектов, которые обслуживающих 10к+ соединений одновременно. При этом, загрузка CPU и использование памяти обычно равномерны, без видимых пиков.</td>
        </tr>
        <tr  class="difs">
            <td class="name">2. Отдаваемый контент</td>
            <td class ="description">Apache — может генерировать как статический контент, так и динамический. С этим никаких проблем нет. Прекрасно подойдет тем, кто не хочет заморачиваться с проксированием и настройкой дополнительного инструмента для генерации динамики, ведь Apache — это готовое работающее решение.

                <br><br> Nginx — отдает только статику и из коробки генерировать динамический контент не умеет. Если вы используете nginx и хотите генерировать динамический контент на своем сайте, то вам придется проксировать запросы тому, кто это делать умеет (apache, php-fpm и др.). Поэтому, разработчикам придется настраивать дополнительную связку, которая усложняет архитектуру, например nginx+apache (кстати в этой связке, Apache называют бекенд сервером, а Nginx — фронтендом), nginx + phpfpm, nginx + python и др.</td>
        </tr>
        <tr  class="difs">
            <td class="name">...</td>
            <td class ="description">...</td>
        </tr>
        <tr  class="difs">
            <td class="name">10. Документация и обучение</td>
            <td class ="description">И у Apache и у Nginx присутствует доступная официальная документация.</td>
        </tr>
    </table>
    <p style="font-size: small;text-align: center;">Более подробно можно ознакомиться по <a href="https://ekaterinagoltsova.github.io/posts/apache-vs-nginx/">ссылке</a></p>

    <table  class="dif" border="1">

        <tr>
            <td>
                <form action="">
                    <fieldset>
                        <p style="color: blue;font-family:Arial, Helvetica, sans-serif;font-weight: bold;font-size: 10px;">Для обратной связи сообщите свой адрес электронной почты <br> формат почты должен быть корректным</p> 
                        <legend style="color: rgb(255, 30, 0);font-family:Arial, Helvetica, sans-serif;font-weight: bold;font-size: 12px;">[Форма обратной связи]</legend>
                        <input type="email" id="email" placeholder="email">
                        <input type="button" value="отправить сообщение" onclick="onInput()">

                    </fieldset>
                </form>
            </td>
        </tr>
    </table>
    <br><br><br>

</body>
</html>